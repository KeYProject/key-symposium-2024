{% extends "base.html" %}

{% macro user(name) -%}
{% if name is string %}
<span class="chip">
  <!--
  {% if site.persons.get(name,None).image %}
  <img src="{{site.persons.get(name,None).image}}" class="avatar avatar-sm">
  {%endif%}
   -->
  <a href="{{site.persons.get(name,None).link}}">{{name}}</a>
</span>
{%else%}
{%for n in name%}{{user(n)}}{%endfor%}
{%endif%}
{%- endmacro %}

{% macro session(name, chair, slots) -%}
<span class="session" style="font-weight:bold;">
  Session: {{name}} &mid;
  Chair:  {{user(chair)}}
</span><br>
{%for s in slots%} {{talk(s)}}{%endfor%}
{%- endmacro %}

{% macro talk(slotId) -%}
{% if slotId in bySlot %}
{% set t = bySlot[slotId] %}
<p class="slot {{t.meta.type}}" id="slot-{{slotId}}">
  <!-- {{slotId}} -->
  <span class="">
    <a href="#talk-{{slotId}}">{{ t.meta.title }}</a>
  </span>
  <span class="label time"> {{ t.meta.length }} min. </span>
  <br>
  {{user(t.meta.author)}}
</p>

{% else %}
<span class="bg-error label">
  Slot {{slotId}} not assigned to a talk.
</span>
{% endif %}
{%- endmacro %}

{% block content %}

<h1>Prelimniary Programme</h1>
<h3>more like a draft than final</h3>

<h2>     Day 0 - Monday, 29th July     </h2>
    <table class="table">
      <tr>
	<th>#</th>
	<th>Topic</th>
      </tr>

      <tr>
	<td>13:00 &ndash; 17:00</td>
	<td>{{talk(999)}}</td>
      </tr>
      <tr>
      <td>17:00 &ndash;18:00</td>
      <td>Registration
      </td>

      <tr>
	<td>18:00 &ndash;19:00</td>
	<td>Dinner at Haus der Kirche</td>
      </tr>
      <tr>
	<td>19:00 &ndash;</td><td>Getting Together</td>
      </tr>

      <tr>
	<td>20:00 &ndash;21:00</td><td>Meeting of the Programme Board</td>
      </tr>
    </table>

    <h2>	  Day 1 &ndash; Tuesday, 30th July    </h2>
    <table class="table">
      <tr>
	<th>#</th>
	<th>Topic</th>
      </tr>

      <tr>
	<td>08:45 &ndash;09:00</td>
	<td> {{ talk(10) }}</td>
      </tr>

      <tr>
	<td>09:00 &ndash;10:30</td>
	<td>
	  {{ session("Probabilism", "X", [11,12,123]) }}
	</td>
      </tr>

      <tr class="break">
	<td>10:30 &ndash;11:00</td>
	<td>Coffee</td>
      </tr>

      <tr class="track-key">
	<td>11:00  &ndash; 12:30</td>
	<td>	{{ session("#6a", "X", [113,114,115]) }}</td>
      </tr>

      <tr class="track-keymaera">
	<td>11:00  &ndash; 12:30</td>
	<td>	{{ session("#6b", "X", [213,214,215]) }}</td>
      </tr>


      <tr class="break">
	<td>12:30  &ndash; 14:00</td>
	<td>Lunch</td>
      </tr>

      <tr class="track-key">
	<td>14:00  &ndash; 15:30</td>
	<td>	{{ session("#7a", "X", [116,117,118]) }}</td>
      </tr>

      <tr class="track-keymaera">
	<td>14:00  &ndash; 15:30</td>
	<td>	{{ session("#7b", "X", [216,217,218]) }}</td>
      </tr>


      <tr class="break">
	<td>15:30  &ndash; 16:00</td>
	<td>Coffee</td>
      </tr>

      <tr>
	<td>16:00  &ndash; 17:30</td>
	<td>
	  {{ session("Voting, Social-Choice", "Michael Kirsten", [19,191,192,193]) }}
	</td>
      </tr>

      <tr class="break">
	<td>18:00  &ndash; 19:00</td>
	<td>Dinner at HdK </td>
      </tr>

      <tr class="social">
	<td>19:00  &ndash;</td>
	<td>{{talk(998)}}</td>
      </tr>
    </table>


    <h2>Day 2 &ndash; Wednesday, 31th July</h2>

    <table class="table">
      <tr>
	<th>#</th>
	<th>Topic</th>
      </tr>

      <tr>
	<td>09:00 &ndash;10:30</td>
	<td>
	  {{ session("Formal Methods for CPS", "X", [20,21,22]) }}
	</td>
      </tr>

      <tr class="break">
	<td>10:30 &ndash;11:00</td>
	<td>Coffee</td>
      </tr>

      <tr>
	<td>11:00  &ndash; 12:30</td>
	<td>
	  {{ session("#2", "X", [13,14,15]) }}
	</td>
      </tr>

      <tr class="break">
	<td>12:30  &ndash; 14:00</td>
	<td>Lunch</td>
      </tr>

      <tr class="">
	<td>14:00  &ndash; 15:30</td>
	<td>{{ session("#3", "X", [207,208,209]) }}</td>
      </tr>

      <tr class="break">
	<td>15:30  &ndash; 16:00</td>
	<td>Coffee</td>
      </tr>

      <tr>
	<td>16:00  &ndash; 18:00</td>
	<td>
	  {{ session("Intersymbolic AI", "X", [16,17,18,199]) }}
	</td>
      </tr>


      <tr class="break">
	<td>18:30  &ndash;</td>
	<td>Dinner outside</td>
      </tr>
    </table>
    <!-- </div>
	 </details> -->

    <h2>      Day 3 &ndash; Thursday, 1st August    </h2>

   <div class="accordion-body">
    <table class="table">
      <tr>
	<td>#</td>
	<td>Topic</td>
      </tr>

      <tr>
	<td>09:00 &ndash;10:30</td>
	<td>
	  {{ session("#8", "X", [30,31]) }}
	</td>
      </tr>

      <tr class="break">
	<td>10:30 &ndash;11:00</td>
	<td>Coffee</td>
      </tr>

      <tr>
	<td>11:00  &ndash; 12:30</td>
	<td>
	  {{ session("#8", "X", [32,33,34,35,36]) }}
	</td>
      </tr>

      <tr class="break">
	<td>12:30  &ndash; 14:00</td>
	<td>Lunch</td>
      </tr>
    </table>

<h2>Talks</h2>

{% for t in talks %}

<div>
  <h3 id="talk-{{t.meta.slot}}"><a href="#slot-{{t.meta.slot}}">{{t.meta.title}}</a>
    {% if t.meta.type == 'invited' -%}
    <span class="label bg-error">Invited Talk</span>
    {%elif t.meta.type == 'regular' -%}
    <span class="label bg-primary">Invited Talk</span>
    {%-endif%}

  </h3>
  <h4>{{user(t.meta.author)}}</h4>
  <div class="content">
    {{t.content | safe }}
  </div>
</div>

{% endfor %}


{% endblock %}
